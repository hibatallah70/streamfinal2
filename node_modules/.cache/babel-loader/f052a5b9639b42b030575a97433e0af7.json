{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python310\\\\version video+blog+ lobby+chat1\\\\src\\\\pages\\\\meeting.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { useGlobalState, useGlobalMutation } from '../utils/container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useRouter from '../utils/use-router';\nimport RTCClient from '../rtc-client';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport StreamPlayer from './meeting/stream-player';\nimport StreamMenu from './meeting/stream-menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MeetingPage = () => {\n  _s();\n\n  const routerCtx = useRouter();\n  const stateCtx = useGlobalState();\n  const mutationCtx = useGlobalMutation();\n\n  const onUserPublished = (remoteUser, mediaType) => {\n    // remoteUser:\n    // mediaType: \"audio\" | \"video\" | \"all\"\n    console.debug(`onUserPublished ${remoteUser.uid}, mediaType= ${mediaType}`);\n    localClient.subscribe(remoteUser, mediaType).then(mRemoteTrack => {\n      addRemoteUser(remoteUser);\n    }).catch(err => {\n      mutationCtx.toastError(`stream ${remoteUser.getId()} subscribe failed: ${err}`);\n    });\n\n    if (mediaType === 'video' || mediaType === 'all') {}\n\n    if (mediaType === 'audio' || mediaType === 'all') {}\n  };\n\n  const onUserUnPublished = (remoteUser, mediaType) => {\n    // remoteUser:\n    // mediaType: \"audio\" | \"video\" | \"all\"\n    console.debug(`onUserUnPublished ${remoteUser.uid}`);\n    removeRemoteUser(remoteUser);\n\n    if (mediaType === 'video' || mediaType === 'all') {}\n\n    if (mediaType === 'audio' || mediaType === 'all') {}\n  };\n\n  const localClient = useMemo(() => {\n    const client = new RTCClient();\n    client.createClient({\n      codec: stateCtx.codec,\n      mode: stateCtx.mode\n    });\n    client.on('connection-state-change', mutationCtx.connectionStateChanged);\n    client.on('user-published', onUserPublished);\n    client.on('user-unpublished', onUserUnPublished);\n    return client;\n  }, [stateCtx.codec, stateCtx.mode]);\n  const [muteVideo, setMuteVideo] = useState(stateCtx.muteVideo);\n  const [muteAudio, setMuteAudio] = useState(stateCtx.muteAudio);\n  const [isShareScreen, setShareScreen] = useState(false);\n  const [VideoTrack, setVideoTrack] = useState(null);\n  const [AudioTrack, setAudioTrack] = useState(null);\n  const [remoteUsers, setRemoteUsers] = useState({});\n\n  const addRemoteUser = remoteUser => {\n    remoteUsers[remoteUser.uid] = remoteUser;\n    setRemoteUsers(remoteUsers);\n  };\n\n  const removeRemoteUser = remoteUser => {\n    delete remoteUsers[remoteUser.uid];\n    setRemoteUsers(remoteUsers);\n  };\n\n  const config = useMemo(() => {\n    return {\n      token: stateCtx.config.token,\n      channel: stateCtx.config.channelName,\n      microphoneId: stateCtx.config.microphoneId,\n      cameraId: stateCtx.config.cameraId,\n      uid: stateCtx.config.uid,\n      host: stateCtx.config.host\n    };\n  }, [stateCtx, muteVideo, muteAudio]);\n  const history = routerCtx.history;\n  const params = new URLSearchParams(window.location.search);\n  useEffect(() => {\n    const roleParams = params.get('role');\n\n    if (!config.channel && roleParams !== 'audience') {\n      history.push('/');\n    }\n  }, [config.channel, history, params]);\n  useEffect(() => {\n    if (config.channel && localClient._created && localClient._joined == false && localClient._leave == false) {\n      localClient.setClientRole(config.host ? 'host' : 'audience');\n      localClient.join(config.channel, config.token).then(uid => {\n        config.uid = uid;\n\n        if (config.host) {\n          localClient.startLive(config.microphoneId, config.cameraId).then(() => {\n            setVideoTrack(localClient.mLocalVideoTrack);\n            setAudioTrack(localClient.mLocalAudioTrack);\n          });\n        }\n\n        mutationCtx.stopLoading();\n      }).catch(err => {\n        mutationCtx.toastError(`join error: ${err.info}`);\n        routerCtx.history.push('/');\n      });\n    }\n  }, [localClient, mutationCtx, config, routerCtx]);\n\n  const toggleVideo = () => {\n    const newValue = !muteVideo;\n\n    if (newValue) {\n      localClient._client.unpublish(VideoTrack);\n    } else {\n      localClient._client.publish(VideoTrack);\n    }\n\n    setMuteVideo(newValue);\n  };\n\n  const toggleAudio = () => {\n    const newValue = !muteAudio;\n\n    if (newValue) {\n      localClient._client.unpublish(AudioTrack);\n    } else {\n      localClient._client.publish(AudioTrack);\n    }\n\n    setMuteAudio(newValue);\n  };\n\n  const toggleShareScreen = () => {\n    const newValue = !isShareScreen;\n\n    if (newValue) {\n      setShareScreen(newValue);\n      setMuteVideo(false);\n      setMuteAudio(false);\n      localClient.stopLive();\n      localClient.startShareScrren().then(() => {\n        setVideoTrack(localClient.mLocalVideoTrack);\n        setAudioTrack(localClient.mLocalAudioTrack);\n      }).catch(err => {\n        mutationCtx.toastError(`屏幕分享失败 code= ${err.code}`);\n      });\n    } else {\n      localClient.stopShareScrren();\n      localClient.startLive(config.microphoneId, config.cameraId).then(() => {\n        setShareScreen(newValue);\n        setVideoTrack(localClient.mLocalVideoTrack);\n        setAudioTrack(localClient.mLocalAudioTrack);\n      });\n    }\n  };\n\n  const doLeave = () => {\n    localClient.leave().then(() => {\n      localClient.stopLive();\n      localClient.destroy();\n      routerCtx.history.push('/');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"meeting\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"default-avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-text\",\n            children: \"Agora Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"quit\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"quit\",\n            onClick: doLeave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StreamPlayer, {\n        uid: config.uid,\n        isLocal: true,\n        videoTrack: VideoTrack,\n        audioTrack: AudioTrack,\n        muteAudio: muteAudio,\n        muteVideo: muteVideo,\n        showInfo: stateCtx.profile,\n        rtcClient: localClient._client,\n        children: config.host ? /*#__PURE__*/_jsxDEV(StreamMenu, {\n          muteAudio: muteAudio,\n          muteVideo: muteVideo,\n          shareScreen: isShareScreen,\n          toggleVideo: toggleVideo,\n          toggleAudio: toggleAudio,\n          toggleShareScreen: toggleShareScreen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 36\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stream-container\",\n        children: Object.values(remoteUsers).map(remoteUser => {\n          return /*#__PURE__*/_jsxDEV(StreamPlayer, {\n            uid: remoteUser.uid,\n            videoTrack: remoteUser.videoTrack,\n            audioTrack: remoteUser.audioTrack,\n            muteAudio: false,\n            muteVideo: false,\n            showInfo: false,\n            rtcClient: localClient._client\n          }, `key-${remoteUser.uid}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MeetingPage, \"dcwlJj2hvF+eLIRMLo6/5IAo2vk=\", false, function () {\n  return [useRouter, useGlobalState, useGlobalMutation];\n});\n\n_c = MeetingPage;\nexport default _c2 = /*#__PURE__*/React.memo(MeetingPage);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MeetingPage\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","clsx","useGlobalState","useGlobalMutation","makeStyles","useRouter","RTCClient","Tooltip","StreamPlayer","StreamMenu","MeetingPage","routerCtx","stateCtx","mutationCtx","onUserPublished","remoteUser","mediaType","console","debug","uid","localClient","subscribe","then","mRemoteTrack","addRemoteUser","catch","err","toastError","getId","onUserUnPublished","removeRemoteUser","client","createClient","codec","mode","on","connectionStateChanged","muteVideo","setMuteVideo","muteAudio","setMuteAudio","isShareScreen","setShareScreen","VideoTrack","setVideoTrack","AudioTrack","setAudioTrack","remoteUsers","setRemoteUsers","config","token","channel","channelName","microphoneId","cameraId","host","history","params","URLSearchParams","window","location","search","roleParams","get","push","_created","_joined","_leave","setClientRole","join","startLive","mLocalVideoTrack","mLocalAudioTrack","stopLoading","info","toggleVideo","newValue","_client","unpublish","publish","toggleAudio","toggleShareScreen","stopLive","startShareScrren","code","stopShareScrren","doLeave","leave","destroy","profile","Object","values","map","videoTrack","audioTrack","memo"],"sources":["C:/Users/hp/AppData/Local/Programs/Python/Python310/version video+blog+ lobby+chat1/src/pages/meeting.jsx"],"sourcesContent":["import React, {useEffect, useState, useMemo} from 'react'\r\nimport clsx from 'clsx'\r\nimport {useGlobalState, useGlobalMutation} from '../utils/container'\r\nimport {makeStyles} from '@material-ui/core/styles'\r\nimport useRouter from '../utils/use-router'\r\nimport RTCClient from '../rtc-client'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport StreamPlayer from './meeting/stream-player'\r\nimport StreamMenu from './meeting/stream-menu'\r\n\r\nconst MeetingPage = () => {\r\n    const routerCtx = useRouter()\r\n    const stateCtx = useGlobalState()\r\n    const mutationCtx = useGlobalMutation()\r\n\r\n    const onUserPublished = (remoteUser, mediaType) => {\r\n        // remoteUser:\r\n        // mediaType: \"audio\" | \"video\" | \"all\"\r\n        console.debug(`onUserPublished ${remoteUser.uid}, mediaType= ${mediaType}`)\r\n        localClient.subscribe(remoteUser, mediaType)\r\n            .then(mRemoteTrack => {\r\n                addRemoteUser(remoteUser)\r\n            })\r\n            .catch(err => {\r\n                mutationCtx.toastError(\r\n                    `stream ${remoteUser.getId()} subscribe failed: ${err}`\r\n                )\r\n            })\r\n\r\n        if (mediaType === 'video' || mediaType === 'all') {\r\n\r\n        }\r\n\r\n        if (mediaType === 'audio' || mediaType === 'all') {\r\n\r\n        }\r\n    }\r\n\r\n    const onUserUnPublished = (remoteUser, mediaType) => {\r\n        // remoteUser:\r\n        // mediaType: \"audio\" | \"video\" | \"all\"\r\n        console.debug(`onUserUnPublished ${remoteUser.uid}`)\r\n        removeRemoteUser(remoteUser)\r\n        if (mediaType === 'video' || mediaType === 'all') {\r\n\r\n        }\r\n\r\n        if (mediaType === 'audio' || mediaType === 'all') {\r\n\r\n        }\r\n    }\r\n\r\n    const localClient = useMemo(() => {\r\n        const client = new RTCClient()\r\n        client.createClient({codec: stateCtx.codec, mode: stateCtx.mode})\r\n\r\n        client.on('connection-state-change', mutationCtx.connectionStateChanged)\r\n        client.on('user-published', onUserPublished)\r\n        client.on('user-unpublished', onUserUnPublished)\r\n\r\n        return client\r\n    }, [stateCtx.codec, stateCtx.mode])\r\n\r\n    const [muteVideo, setMuteVideo] = useState(stateCtx.muteVideo)\r\n    const [muteAudio, setMuteAudio] = useState(stateCtx.muteAudio)\r\n    const [isShareScreen, setShareScreen] = useState(false)\r\n    const [VideoTrack, setVideoTrack] = useState(null)\r\n    const [AudioTrack, setAudioTrack] = useState(null)\r\n    const [remoteUsers, setRemoteUsers] = useState({})\r\n\r\n    const addRemoteUser = (remoteUser) => {\r\n        remoteUsers[remoteUser.uid] = remoteUser\r\n        setRemoteUsers(remoteUsers)\r\n    }\r\n\r\n    const removeRemoteUser = (remoteUser) => {\r\n        delete remoteUsers[remoteUser.uid]\r\n        setRemoteUsers(remoteUsers)\r\n    }\r\n\r\n    const config = useMemo(() => {\r\n        return {\r\n            token: stateCtx.config.token,\r\n            channel: stateCtx.config.channelName,\r\n            microphoneId: stateCtx.config.microphoneId,\r\n            cameraId: stateCtx.config.cameraId,\r\n            uid: stateCtx.config.uid,\r\n            host: stateCtx.config.host\r\n        }\r\n    }, [stateCtx, muteVideo, muteAudio])\r\n\r\n    const history = routerCtx.history\r\n\r\n    const params = new URLSearchParams(window.location.search)\r\n\r\n    useEffect(() => {\r\n        const roleParams = params.get('role')\r\n        if (!config.channel && roleParams !== 'audience') {\r\n            history.push('/')\r\n        }\r\n    }, [config.channel, history, params])\r\n\r\n    useEffect(() => {\r\n        if (\r\n            config.channel &&\r\n            localClient._created &&\r\n            localClient._joined == false &&\r\n            localClient._leave == false\r\n        ) {\r\n            localClient.setClientRole(config.host ? 'host' : 'audience')\r\n            localClient.join(config.channel, config.token)\r\n                .then((uid) => {\r\n                    config.uid = uid\r\n\r\n                    if (config.host) {\r\n                        localClient.startLive(config.microphoneId, config.cameraId)\r\n                            .then(() => {\r\n                                setVideoTrack(localClient.mLocalVideoTrack)\r\n                                setAudioTrack(localClient.mLocalAudioTrack)\r\n                            })\r\n                    }\r\n                    mutationCtx.stopLoading()\r\n                })\r\n                .catch((err) => {\r\n                    mutationCtx.toastError(`join error: ${err.info}`)\r\n                    routerCtx.history.push('/')\r\n                })\r\n        }\r\n    }, [localClient, mutationCtx, config, routerCtx])\r\n\r\n    const toggleVideo = () => {\r\n        const newValue = !muteVideo\r\n        if (newValue) {\r\n            localClient._client.unpublish(VideoTrack)\r\n        } else {\r\n            localClient._client.publish(VideoTrack)\r\n        }\r\n        setMuteVideo(newValue)\r\n    }\r\n\r\n    const toggleAudio = () => {\r\n        const newValue = !muteAudio\r\n        if (newValue) {\r\n            localClient._client.unpublish(AudioTrack)\r\n        } else {\r\n            localClient._client.publish(AudioTrack)\r\n        }\r\n        setMuteAudio(newValue)\r\n    }\r\n\r\n    const toggleShareScreen = () => {\r\n        const newValue = !isShareScreen\r\n        if (newValue) {\r\n            setShareScreen(newValue)\r\n\r\n            setMuteVideo(false)\r\n            setMuteAudio(false)\r\n\r\n            localClient.stopLive()\r\n            localClient.startShareScrren()\r\n                .then(() => {\r\n                    setVideoTrack(localClient.mLocalVideoTrack)\r\n                    setAudioTrack(localClient.mLocalAudioTrack)\r\n                })\r\n                .catch((err) => {\r\n                    mutationCtx.toastError(`屏幕分享失败 code= ${err.code}`)\r\n                })\r\n        } else {\r\n            localClient.stopShareScrren()\r\n            localClient.startLive(config.microphoneId, config.cameraId)\r\n                .then(() => {\r\n                    setShareScreen(newValue)\r\n\r\n                    setVideoTrack(localClient.mLocalVideoTrack)\r\n                    setAudioTrack(localClient.mLocalAudioTrack)\r\n                })\r\n        }\r\n    }\r\n\r\n    const doLeave = () => {\r\n        localClient.leave().then(() => {\r\n            localClient.stopLive()\r\n            localClient.destroy()\r\n            routerCtx.history.push('/')\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"meeting\">\r\n            <div className=\"current-view\">\r\n                <div className=\"nav\">\r\n                    <div className=\"avatar-container\">\r\n                        <div className=\"default-avatar\"></div>\r\n                        <div className=\"avatar-text\">Agora Test</div>\r\n                        <div className=\"like\"></div>\r\n                    </div>\r\n                    <Tooltip title=\"quit\">\r\n                        <div\r\n                            className=\"quit\"\r\n                            onClick={doLeave}\r\n                        ></div>\r\n                    </Tooltip>\r\n                </div>\r\n                <StreamPlayer\r\n                    uid={config.uid}\r\n                    isLocal={true}\r\n                    videoTrack={VideoTrack}\r\n                    audioTrack={AudioTrack}\r\n                    muteAudio={muteAudio}\r\n                    muteVideo={muteVideo}\r\n                    showInfo={stateCtx.profile}\r\n                    rtcClient={localClient._client}\r\n                >\r\n                    {config.host ? <StreamMenu\r\n                        muteAudio={muteAudio}\r\n                        muteVideo={muteVideo}\r\n                        shareScreen={isShareScreen}\r\n                        toggleVideo={toggleVideo}\r\n                        toggleAudio={toggleAudio}\r\n                        toggleShareScreen={toggleShareScreen}\r\n                    /> : null}\r\n                </StreamPlayer>\r\n                <div className=\"stream-container\">\r\n                    {Object.values(remoteUsers).map(remoteUser => {\r\n                        return <StreamPlayer\r\n                            key={`key-${remoteUser.uid}`}\r\n                            uid={remoteUser.uid}\r\n                            videoTrack={remoteUser.videoTrack}\r\n                            audioTrack={remoteUser.audioTrack}\r\n                            muteAudio={false}\r\n                            muteVideo={false}\r\n                            showInfo={false}\r\n                            rtcClient={localClient._client}\r\n                        />\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(MeetingPage)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}