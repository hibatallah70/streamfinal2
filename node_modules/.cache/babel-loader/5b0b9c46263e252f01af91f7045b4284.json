{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\version video+blog+ lobby+chat1\\\\src\\\\utils\\\\container.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { createContext, useContext, useReducer, useState, useEffect } from 'react';\nimport { reducer, defaultState } from './store';\nimport CustomizedSnackbar from '../utils/snackbar-wrapper';\nimport Loading from '../utils/loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StateContext = /*#__PURE__*/createContext({});\nconst MutationContext = /*#__PURE__*/createContext({});\nexport const ContainerProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, defaultState);\n  window.rootState = state;\n  const [toasts, updateToasts] = useState([]);\n  const methods = {\n    startLoading() {\n      dispatch({\n        type: 'loading',\n        payload: true\n      });\n    },\n\n    stopLoading() {\n      dispatch({\n        type: 'loading',\n        payload: false\n      });\n    },\n\n    updateConfig(params) {\n      dispatch({\n        type: 'config',\n        payload: { ...state.config,\n          ...params\n        }\n      });\n    },\n\n    setClient(clientInstance) {\n      dispatch({\n        type: 'client',\n        payload: clientInstance\n      });\n    },\n\n    setCodec(param) {\n      dispatch({\n        type: 'codec',\n        payload: param\n      });\n    },\n\n    setVideo(param) {\n      dispatch({\n        type: 'video',\n        payload: param\n      });\n    },\n\n    setAudio(param) {\n      dispatch({\n        type: 'audio',\n        payload: param\n      });\n    },\n\n    setScreen(param) {\n      dispatch({\n        type: 'screen',\n        payload: param\n      });\n    },\n\n    setProfile(param) {\n      dispatch({\n        type: 'profile',\n        payload: param\n      });\n    },\n\n    toastSuccess(message) {\n      updateToasts([...toasts, {\n        variant: 'success',\n        message\n      }]);\n    },\n\n    toastInfo(message) {\n      updateToasts([...toasts, {\n        variant: 'info',\n        message\n      }]);\n    },\n\n    toastError(message) {\n      updateToasts([...toasts, {\n        variant: 'error',\n        message\n      }]);\n    },\n\n    removeTop() {\n      const items = toasts.filter((e, idx) => idx > 0);\n      updateToasts([...items]);\n    },\n\n    setLocalStream(param) {\n      dispatch({\n        type: 'localStream',\n        payload: param\n      });\n    },\n\n    setCurrentStream(param) {\n      dispatch({\n        type: 'currentStream',\n        payload: param\n      });\n    },\n\n    setDevicesList(param) {\n      dispatch({\n        type: 'devicesList',\n        payload: param\n      });\n    },\n\n    clearAllStream() {\n      dispatch({\n        type: 'clearAllStream'\n      });\n    },\n\n    addLocal(evt) {\n      const {\n        stream\n      } = evt;\n      methods.setLocalStream(stream);\n      methods.setCurrentStream(stream);\n    },\n\n    addStream(evt) {\n      const {\n        stream\n      } = evt;\n      dispatch({\n        type: 'addStream',\n        payload: stream\n      });\n    },\n\n    removeStream(evt) {\n      const {\n        stream\n      } = evt;\n      dispatch({\n        type: 'removeStream',\n        stream: stream\n      });\n    },\n\n    removeStreamById(evt) {\n      const {\n        uid\n      } = evt;\n      dispatch({\n        type: 'removeStream',\n        uid: uid\n      });\n    },\n\n    connectionStateChanged(curState, revState) {\n      methods.toastInfo(`${curState}`);\n    } // enableBeauty(enable) {\n    //   dispatch({type: 'enableBeauty', enable});\n    // }\n\n\n  };\n  useEffect(() => {\n    window.sessionStorage.setItem('custom_storage', JSON.stringify({\n      uid: state.config.uid,\n      host: state.config.host,\n      channelName: state.config.channelName,\n      token: state.config.token,\n      resolution: state.config.resolution\n    }));\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(StateContext.Provider, {\n    value: state,\n    children: /*#__PURE__*/_jsxDEV(MutationContext.Provider, {\n      value: methods,\n      children: [/*#__PURE__*/_jsxDEV(CustomizedSnackbar, {\n        toasts: toasts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), state.loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 34\n      }, this) : null, children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ContainerProvider, \"9/aR95ST7BYaTWj38yUF1DrXiwg=\");\n\n_c = ContainerProvider;\nexport function useGlobalState() {\n  _s2();\n\n  return useContext(StateContext);\n}\n\n_s2(useGlobalState, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function useGlobalMutation() {\n  _s3();\n\n  return useContext(MutationContext);\n}\n\n_s3(useGlobalMutation, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ContainerProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useState","useEffect","reducer","defaultState","CustomizedSnackbar","Loading","StateContext","MutationContext","ContainerProvider","children","state","dispatch","window","rootState","toasts","updateToasts","methods","startLoading","type","payload","stopLoading","updateConfig","params","config","setClient","clientInstance","setCodec","param","setVideo","setAudio","setScreen","setProfile","toastSuccess","message","variant","toastInfo","toastError","removeTop","items","filter","e","idx","setLocalStream","setCurrentStream","setDevicesList","clearAllStream","addLocal","evt","stream","addStream","removeStream","removeStreamById","uid","connectionStateChanged","curState","revState","sessionStorage","setItem","JSON","stringify","host","channelName","token","resolution","loading","useGlobalState","useGlobalMutation"],"sources":["C:/Users/hp/Desktop/version video+blog+ lobby+chat1/src/utils/container.jsx"],"sourcesContent":["import React, {\r\n    createContext,\r\n    useContext,\r\n    useReducer,\r\n    useState,\r\n    useEffect\r\n} from 'react'\r\nimport {reducer, defaultState} from './store'\r\nimport CustomizedSnackbar from '../utils/snackbar-wrapper'\r\nimport Loading from '../utils/loading'\r\n\r\nconst StateContext = createContext({})\r\nconst MutationContext = createContext({})\r\n\r\nexport const ContainerProvider = ({children}) => {\r\n    const [state, dispatch] = useReducer(reducer, defaultState)\r\n\r\n    window.rootState = state\r\n\r\n    const [toasts, updateToasts] = useState([])\r\n\r\n    const methods = {\r\n        startLoading() {\r\n            dispatch({type: 'loading', payload: true})\r\n        },\r\n        stopLoading() {\r\n            dispatch({type: 'loading', payload: false})\r\n        },\r\n        updateConfig(params) {\r\n            dispatch({type: 'config', payload: {...state.config, ...params}})\r\n        },\r\n        setClient(clientInstance) {\r\n            dispatch({type: 'client', payload: clientInstance})\r\n        },\r\n        setCodec(param) {\r\n            dispatch({type: 'codec', payload: param})\r\n        },\r\n        setVideo(param) {\r\n            dispatch({type: 'video', payload: param})\r\n        },\r\n        setAudio(param) {\r\n            dispatch({type: 'audio', payload: param})\r\n        },\r\n        setScreen(param) {\r\n            dispatch({type: 'screen', payload: param})\r\n        },\r\n        setProfile(param) {\r\n            dispatch({type: 'profile', payload: param})\r\n        },\r\n        toastSuccess(message) {\r\n            updateToasts([\r\n                ...toasts,\r\n                {\r\n                    variant: 'success',\r\n                    message\r\n                }\r\n            ])\r\n        },\r\n        toastInfo(message) {\r\n            updateToasts([\r\n                ...toasts,\r\n                {\r\n                    variant: 'info',\r\n                    message\r\n                }\r\n            ])\r\n        },\r\n        toastError(message) {\r\n            updateToasts([\r\n                ...toasts,\r\n                {\r\n                    variant: 'error',\r\n                    message\r\n                }\r\n            ])\r\n        },\r\n        removeTop() {\r\n            const items = toasts.filter((e, idx) => idx > 0)\r\n            updateToasts([...items])\r\n        },\r\n        setLocalStream(param) {\r\n            dispatch({type: 'localStream', payload: param})\r\n        },\r\n        setCurrentStream(param) {\r\n            dispatch({type: 'currentStream', payload: param})\r\n        },\r\n        setDevicesList(param) {\r\n            dispatch({type: 'devicesList', payload: param})\r\n        },\r\n        clearAllStream() {\r\n            dispatch({type: 'clearAllStream'})\r\n        },\r\n        addLocal(evt) {\r\n            const {stream} = evt\r\n            methods.setLocalStream(stream)\r\n            methods.setCurrentStream(stream)\r\n        },\r\n        addStream(evt) {\r\n            const {stream} = evt\r\n            dispatch({type: 'addStream', payload: stream})\r\n        },\r\n        removeStream(evt) {\r\n            const {stream} = evt\r\n            dispatch({type: 'removeStream', stream: stream})\r\n        },\r\n        removeStreamById(evt) {\r\n            const {uid} = evt\r\n            dispatch({type: 'removeStream', uid: uid})\r\n        },\r\n        connectionStateChanged(curState, revState) {\r\n            methods.toastInfo(`${curState}`)\r\n        }\r\n        // enableBeauty(enable) {\r\n        //   dispatch({type: 'enableBeauty', enable});\r\n        // }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.sessionStorage.setItem(\r\n            'custom_storage',\r\n            JSON.stringify({\r\n                uid: state.config.uid,\r\n                host: state.config.host,\r\n                channelName: state.config.channelName,\r\n                token: state.config.token,\r\n                resolution: state.config.resolution\r\n            })\r\n        )\r\n    }, [state])\r\n\r\n    return (\r\n        <StateContext.Provider value={state}>\r\n            <MutationContext.Provider value={methods}>\r\n                <CustomizedSnackbar toasts={toasts}/>\r\n                {state.loading ? <Loading/> : null}\r\n                {children}\r\n            </MutationContext.Provider>\r\n        </StateContext.Provider>\r\n    )\r\n}\r\n\r\nexport function useGlobalState() {\r\n    return useContext(StateContext)\r\n}\r\n\r\nexport function useGlobalMutation() {\r\n    return useContext(MutationContext)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}